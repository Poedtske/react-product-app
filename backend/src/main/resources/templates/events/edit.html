<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{fragments/head :: head}">
    <title>Edit Event</title>
</head>
<body>
<nav th:replace="~{fragments/navbar :: nav}"></nav>
<!-- The form uses POST but simulates a PUT request via the hidden _method field -->
<form method="POST" th:action="@{/events/{id}(id=${event.id})}" th:object="${event}" enctype="multipart/form-data">
    <input type="hidden" name="_method" value="PUT"> <!-- Simulates PUT request -->

    <label>
        Title:
        <input th:field="*{title}" type="text">
    </label>
    <br>
    <label>
        Location:
        <input th:field="*{location}" type="text">
    </label>
    <br>
    <label>
        Type:
        <select th:field="*{type}">
            <option th:each="eventType : ${T(com.example.backend.enums.EventType).values()}"
                    th:value="${eventType}" th:text="${eventType}"></option>
        </select>
    </label>
    <br>
    <label>
        Description:
        <input th:field="*{description}" type="text">
    </label>
    <br>
    <!-- Uncomment if handling file uploads -->
    <!--
    <label>
        Poster:
        <input th:field="*{poster}" type="file" name="poster">
    </label>
    <br>
    -->
    <span th:if="${#fields.hasErrors()}" th:text="${#fields.errors()}"></span>
    <button type="submit">Save Changes</button>
</form>
<div th:replace="~{fragments/head :: div.scripts}"></div>
</body>
</html>
